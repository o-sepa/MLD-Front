import{a as E,b as w,c as L,d as _,e as F,f as M,g as V,h as N,i as P,j as I}from"./chunk-E335FOEK.js";import{A as v,B as s,E as d,I as c,K as y,M as f,P as t,Q as n,R as a,T as b,U as x,V as l,X as C,n as m,na as S,oa as T,s as p,sa as k,t as u}from"./chunk-IOLBJRDP.js";var g=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-auth-layout"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"w-full","max-w-xs","bg-slate-100","shadow-2xl","rounded-lg","p-4"],[1,"text-2xl","font-bold","text-center","mb-2"]],template:function(e,i){e&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Iniciar sesi\xF3n"),n(),a(4,"router-outlet"),n()())},dependencies:[S],encapsulation:2})};function U(o,r){if(o&1&&(t(0,"span",7),l(1),n()),o&2){let e=x();s(),C(" ",e.formValidationUtils.getFieldError(e.form,"username")," ")}}function G(o,r){if(o&1&&(t(0,"span",7),l(1),n()),o&2){let e=x();s(),C(" ",e.formValidationUtils.getFieldError(e.form,"password")," ")}}function q(o,r){o&1&&(t(0,"div",11),p(),t(1,"svg",12),a(2,"path",13),n(),u(),t(3,"span"),l(4,"Invalid login credentials. Try again"),n()())}var h=class o{fb=m(N);authService=m(k);router=m(T);hasError=v(!1);isPosting=v(!1);formValidationUtils=I;form=this.fb.group({username:["",[w.required]],password:["",[w.required]]});submit(){if(this.form.markAllAsTouched(),this.form.invalid){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3);return}let{username:r,password:e}=this.form.value;this.authService.login(r,e).subscribe({next:i=>{if(i){this.router.navigateByUrl("/");return}this.hasError.set(!0)},error:i=>console.log(i)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-login-page"]],decls:16,vars:4,consts:[[1,"flex","flex-col","gap-2",3,"ngSubmit","formGroup"],[1,"input"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M4 5h16c0.55 0 1 0.45 1 1v12c0 0.55 -0.45 1 -1 1h-16c-0.55 0 -1 -0.45 -1 -1v-12c0 -0.55 0.45 -1 1 -1Z"],["d","M3 6.5l9 5.5l9 -5.5"],["type","text","placeholder","Usuario","formControlName","username"],[1,"text-xs","text-red-500"],["fill","currentColor","d","M7 15q1.25 0 2.125-.875T10 12t-.875-2.125T7 9t-2.125.875T4 12t.875 2.125T7 15m0 3q-2.5 0-4.25-1.75T1 12t1.75-4.25T7 6q2.025 0 3.538 1.15T12.65 10h8.375L23 11.975l-3.5 4L17 14l-2 2l-2-2h-.35q-.625 1.8-2.175 2.9T7 18"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],["type","submit",1,"btn","btn-secondary"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","right-5","w-52"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(e,i){e&1&&(t(0,"form",0),b("ngSubmit",function(){return i.submit()}),t(1,"label",1),p(),t(2,"svg",2)(3,"g",3),a(4,"path",4)(5,"path",5),n()(),u(),a(6,"input",6),n(),c(7,U,2,1,"span",7),t(8,"label",1),p(),t(9,"svg",2),a(10,"path",8),n(),u(),a(11,"input",9),n(),c(12,G,2,1,"span",7),t(13,"button",10),l(14,"Log in"),n()(),c(15,q,5,0,"div",11)),e&2&&(y("formGroup",i.form),s(7),f(i.formValidationUtils.isInvalidField(i.form,"username")?7:-1),s(5),f(i.formValidationUtils.isInvalidField(i.form,"password")?12:-1),s(3),f(i.hasError()?15:-1))},dependencies:[P,F,E,L,_,M,V],encapsulation:2})};var R=[{path:"",component:g,children:[{path:"login",component:h},{path:"**",redirectTo:"login"}]}],ee=R;export{R as authRoutes,ee as default};
